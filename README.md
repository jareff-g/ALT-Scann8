# ALT-Scann8

ALT-Scann8 is an enhanced user interface and controller for the [T-Scann 8](http://tscann8.torulf.com/index.html) Super 8/Regular 8 film scanner by Torulf Holmström, designed for Raspberry Pi OS.

## Community and Support

### Discord
[![Discord](https://img.shields.io/badge/Join%20Discord-Chat%20Now-blue.svg)](https://discord.gg/r2UGkH7qg2)

Join our Discord server to chat about ALT-Scann8 and get help!

### Wiki
Check the [ALT-Scann8 Wiki](https://github.com/jareff-g/ALT-Scann8/wiki) for details:
- [UI Description](https://github.com/jareff-g/ALT-Scann8/wiki/ALT%E2%80%90Scann8:-Description-of-user-interface)
- [FAQ](https://github.com/jareff-g/ALT-Scann8/wiki/Frequently-Asked-Questions), including [Initial Raspberry Pi Setup](https://github.com/jareff-g/ALT-Scann8/wiki/Frequently-Asked-Questions#question-1)
- [T-Scann 8 Mods](https://github.com/jareff-g/ALT-Scann8/wiki/T%E2%80%90Scann-8-mods)

## ALT-Scann8 User Interface

This UI is a fork of Torulf Holmström’s “T-Scann8-UserInterface v2.1” ([CC BY-NC 4.0](http://creativecommons.org/licenses/by-nc/4.0/)). ALT-Scann8 is licensed under the [MIT License](https://github.com/jareff-g/ALT-Scann8/blob/main/LICENSE) by Juan Remirez de Esparza.

### Purpose
Originally adapted to support the PiCamera2 library for Bullseye 64-bit Raspberry Pi OS, we’ve expanded it with refactoring and new features.

### Key Enhancements
- **PiCamera2 Integration**: Full support for Bullseye 64-bit Raspberry Pi OS with modern camera controls.
- **Tkinter UI**: Lightweight, responsive interface replacing Pygame, with streamlined widget layout.
- **Post-View Mode**: Fast, custom preview for real-time film alignment, outpacing PiCamera2’s default.
- **Exposure Flexibility**: Auto-exposure with adjustable delays, multi-exposure capture (up to 5 bracketed shots), and manual overrides.
- **FrameSync Viewer**: Interactive tool to manually align tricky frames (e.g., overexposed or damaged), with zoom and threshold tweaks.
- **Misalignment Detection**: Real-time frame error checking (Super 8/Regular 8), with DNG support via rawpy—catches friction-based drift.
- **Film Transport**: Enhanced fast-forward/rewind with progressive stops and gate protection, plus auto-stop at reel end.
- **Workflow Persistence**: Auto-saved settings and session data (e.g., frame counts, folders) for seamless restarts.
- **UI Polish**: Tooltips, resizable fonts, QR code debug aids, and a rolling plotter for PT level tuning.
- **Stability**: Robust error handling (e.g., disk space, folder issues) and bug fixes for smooth scanning.

## ALT-Scann8 Controller

The controller manages the Arduino board, forked from Torulf Holmström’s “Arduino to Card Control T-Scann 8 v1.61.”

### Purpose
Started to add a feature, it evolved with refactoring and enhancements.

### Key Enhancements
- **Code Refactor**: Cleaner, maintainable structure for reliability.
- **Transport Precision**: Fast-forward/rewind with progressive stops and improved winding for consistent tension.
- **Safety Locks**: Prevents FF/Rewind with film in the gate, plus auto-stop on reel end.
- **Pi Sync**: Enhanced I2C communication with UI, reporting PT levels and controller version.
- **Startup Sync**: First-frame alignment now locks in within one frame (vs. up to five).

### Important Notes
- **Compatibility**: Use both ALT-Scann8 UI and Controller together—interface changes (as of October 2023) break compatibility with original T-Scann 8 software.
- **Performance**: For best results, add a pinch roller (see [T-Scann 8 Mods](https://github.com/jareff-g/ALT-Scann8/wiki/T%E2%80%90Scann-8-mods)) to aid capstan traction.

## Getting Started
1. **Download**: Get the repo via [ZIP](https://github.com/jareff-g/ALT-Scann8/archive/refs/heads/main.zip) or `git clone https://github.com/jareff-g/ALT-Scann8.git`.
2. **Python Setup**:
   - Update your system: `sudo apt update && sudo apt upgrade -y`.
   - Install required libraries: 
     ```bash
     sudo apt install -y python3-opencv python3-numpy python3-pil python3-psutil python3-qrencode python3-smbus python3-picamera2 python3-rawpy
     ```
   - Optional for usage reporting: `sudo apt install -y python3-requests`.
   - Tkinter is included with Python 3.
3. **Arduino Setup**:
   - Open `Controller/ALT-Scann8-Controller.ino` in the Arduino IDE.
   - Compile and upload to your Arduino board.
4. **Run**: On your Raspberry Pi, execute `python3 ALT-Scann8.py`.

### Usage Reporting
ALT-Scann8 optionally pings an anonymous usage count (UI+Controller version pair) to track active users and compatibility. Enable it at first run—no personal data collected. See `ALT-Scann8.py` for details.

## Attributions

### Splash Image
- **Splash Screen**: Generated by Grok, created by xAI. Adds a retro film vibe to startup.

### Python Libraries
- **Python**: Core language. ([python.org](https://www.python.org/))
- **OpenCV**: Frame analysis. ([opencv.org](https://opencv.org/))
- **NumPy**: Array operations. ([numpy.org](https://numpy.org/))
- **Pillow**: Image processing. ([pillow.readthedocs.io](https://pillow.readthedocs.io/))
- **Tkinter**: GUI toolkit (built-in). ([docs.python.org/3/library/tkinter.html](https://docs.python.org/3/library/tkinter.html))
- **psutil**: Resource monitoring. ([github.com/giampaolo/psutil](https://github.com/giampaolo/psutil))
- **qrcode**: QR codes (via `python3-qrencode`). ([github.com/lincolnloop/python-qrcode](https://github.com/lincolnloop/python-qrcode))
- **smbus**: I2C for Pi/Arduino. ([pypi.org/project/smbus2/](https://pypi.org/project/smbus2/))
- **Picamera2**: Frame capture. ([github.com/raspberrypi/picamera2](https://github.com/raspberrypi/picamera2))
- **rawpy**: DNG processing. ([rawpy.readthedocs.io](https://rawpy.readthedocs.io/))

### Arduino Module
- **Arduino Core**: Framework and `Wire.h` for I2C, plus C libraries (`stdio.h`, `string.h`, `stdlib.h`). ([arduino.cc](https://www.arduino.cc/))
